(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{642:function(t,e,o){"use strict";o.r(e);o(21),o(208),o(11),o(5),o(164),o(69),o(31);var r={data:function(){return{search:{},products:[],product:{},headers:[{text:"Nombre",value:"nombre"},{text:"Ver historial",value:"ver_historial",align:"right"}],headersHistorial:[{text:"Fecha",value:"fecha_compra"},{text:"Precio",value:"precio_unidad"},{text:"Cantidad",value:"cantidad"},{text:"Precio total",value:"total"},{text:"Distribuidor",value:"distribuidor"}],historialProductos:[],openModalProduct:!1}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;this.$axios.get("/productos",{params:this.search}).then((function(e){e.data.filter((function(e){if(t.products.find((function(t){return t.nombre===e.nombre})))return console.log("aca"),!1;t.products.push(e)}))}))},getHistorial:function(t){var e=this;this.openModalProduct=!0,this.$axios.get("/productos",{params:{nombre_contains:t.nombre,_sort:"fecha_compra:desc"}}).then((function(t){e.historialProductos=t.data}))},formatDate:function(t){var e=t.split("-");return"".concat(e[2],"/").concat(e[1],"/").concat(e[0])}}},n=o(77),c=o(94),d=o.n(c),l=o(408),v=o(425),h=o(421),f=o(713),m=o(578),_=o(192),x=o(644),P=o(582),V=o(584),k=o(64),w=o(423),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-card",[o("v-card-title",[o("v-input",[o("v-text-field",{staticClass:"rounded-r-0",attrs:{placeholder:"Buscar producto",outlined:"",dense:"","hide-details":"",height:"40"},model:{value:t.search.nombre_contains,callback:function(e){t.$set(t.search,"nombre_contains",e)},expression:"search.nombre_contains"}}),t._v(" "),o("v-btn",{staticClass:"rounded-l-0",attrs:{depressed:"",height:"40",color:"primary"},on:{click:function(e){return t.getProducts()}}},[o("v-icon",[t._v("mdi-magnify")])],1)],1)],1),t._v(" "),o("v-card-text",{staticClass:"font-weight-light"},[o("v-data-table",{attrs:{headers:t.headers,items:t.products,"hide-default-footer":""},scopedSlots:t._u([{key:"item.ver_historial",fn:function(e){var r=e.item;return[o("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.getHistorial(r)}}},[t._v("Ver historial")])]}}])})],1)],1),t._v(" "),o("v-dialog",{attrs:{persistent:""},model:{value:t.openModalProduct,callback:function(e){t.openModalProduct=e},expression:"openModalProduct"}},[o("v-card",[o("v-toolbar",{staticClass:"elevation-0",attrs:{color:"primary"}},[o("v-toolbar-title",{staticClass:"font-weight-light white--text"},[t._v("\n         Historial del producto\n        ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{staticClass:"white--text",attrs:{icon:""},on:{click:function(e){t.openModalProduct=!1}}},[o("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),o("v-card-text",[o("v-data-table",{attrs:{headers:t.headersHistorial,"hide-default-footer":"",items:t.historialProductos},scopedSlots:t._u([{key:"item.precio_unidad",fn:function(e){var o=e.item;return[t._v("\n                $ "+t._s(o.precio_unidad)+"\n            ")]}},{key:"item.total",fn:function(e){var o=e.item;return[t._v("\n                $ "+t._s(o.precio_unidad*o.cantidad)+"\n            ")]}},{key:"item.fecha_compra",fn:function(e){var o=e.item;return[t._v("\n                "+t._s(t.formatDate(o.fecha_compra))+"\n            ")]}}])})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:l.a,VCard:v.a,VCardText:h.b,VCardTitle:h.c,VDataTable:f.a,VDialog:m.a,VIcon:_.a,VInput:x.a,VSpacer:P.a,VTextField:V.a,VToolbar:k.a,VToolbarTitle:w.a})}}]);